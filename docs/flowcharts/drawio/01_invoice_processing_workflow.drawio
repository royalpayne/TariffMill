<mxfile host="app.diagrams.net" modified="2024-01-01T00:00:00.000Z" agent="TariffMill Documentation" version="22.1.0" type="device">
  <diagram id="invoice-processing" name="Invoice Processing Workflow">
    <mxGraphModel dx="1422" dy="794" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1100" pageHeight="850" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />

        <!-- Title -->
        <mxCell id="title" value="TariffMill Invoice Processing Workflow" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=24;fontStyle=1;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="300" y="20" width="500" height="40" as="geometry" />
        </mxCell>

        <!-- Start Node -->
        <mxCell id="start" value="Start" style="ellipse;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontStyle=1;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="490" y="80" width="120" height="50" as="geometry" />
        </mxCell>

        <!-- File Selection -->
        <mxCell id="select-file" value="Select Invoice File&#xa;(CSV/Excel)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="470" y="160" width="160" height="60" as="geometry" />
        </mxCell>

        <mxCell id="edge1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="start" target="select-file">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Parse File -->
        <mxCell id="parse" value="Parse File&#xa;(Pandas DataFrame)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="470" y="250" width="160" height="60" as="geometry" />
        </mxCell>

        <mxCell id="edge2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="select-file" target="parse">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Mapping Decision -->
        <mxCell id="mapping-check" value="Saved Mapping&#xa;Exists?" style="rhombus;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="470" y="340" width="160" height="80" as="geometry" />
        </mxCell>

        <mxCell id="edge3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="parse" target="mapping-check">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Create New Mapping -->
        <mxCell id="new-mapping" value="Create New&#xa;Column Mapping" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="680" y="355" width="140" height="50" as="geometry" />
        </mxCell>

        <mxCell id="edge4" value="No" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="mapping-check" target="new-mapping">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Load Mapping -->
        <mxCell id="load-mapping" value="Load Saved&#xa;Mapping Profile" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="280" y="355" width="140" height="50" as="geometry" />
        </mxCell>

        <mxCell id="edge5" value="Yes" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="mapping-check" target="load-mapping">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Apply Mapping -->
        <mxCell id="apply-mapping" value="Apply Column Mapping&#xa;to Invoice Data" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="470" y="460" width="160" height="60" as="geometry" />
        </mxCell>

        <mxCell id="edge6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="new-mapping" target="apply-mapping">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="edge7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="load-mapping" target="apply-mapping">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Enter Invoice Total -->
        <mxCell id="enter-total" value="Enter Invoice Total&#xa;&amp; Select MID" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="470" y="550" width="160" height="60" as="geometry" />
        </mxCell>

        <mxCell id="edge8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="apply-mapping" target="enter-total">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Process Button -->
        <mxCell id="process" value="Click Process&#xa;Button" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontStyle=1;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="470" y="640" width="160" height="50" as="geometry" />
        </mxCell>

        <mxCell id="edge9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="enter-total" target="process">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Database Lookup Section -->
        <mxCell id="db-section" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;strokeWidth=2;dashed=1;" vertex="1" parent="1">
          <mxGeometry x="40" y="500" width="380" height="250" as="geometry" />
        </mxCell>

        <mxCell id="db-title" value="Database Operations" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="140" y="510" width="180" height="30" as="geometry" />
        </mxCell>

        <!-- Lookup Parts -->
        <mxCell id="lookup" value="Lookup Part Numbers&#xa;in Parts Master" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="150" y="550" width="160" height="50" as="geometry" />
        </mxCell>

        <mxCell id="edge10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="process" target="lookup">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Database Symbol -->
        <mxCell id="database" value="Parts Master&#xa;Database" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="60" y="610" width="80" height="60" as="geometry" />
        </mxCell>

        <mxCell id="edge11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;" edge="1" parent="1" source="lookup" target="database">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Get HTS/Country -->
        <mxCell id="get-data" value="Retrieve HTS Code,&#xa;Country, Material Ratios" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="150" y="620" width="160" height="50" as="geometry" />
        </mxCell>

        <mxCell id="edge12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="lookup" target="get-data">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Calculate 232/301 -->
        <mxCell id="calc-tariff" value="Calculate Section&#xa;232/301 Status" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="150" y="690" width="160" height="50" as="geometry" />
        </mxCell>

        <mxCell id="edge13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="get-data" target="calc-tariff">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Value Distribution Section -->
        <mxCell id="value-section" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;strokeWidth=2;dashed=1;" vertex="1" parent="1">
          <mxGeometry x="680" y="500" width="380" height="250" as="geometry" />
        </mxCell>

        <mxCell id="value-title" value="Value Calculations" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="790" y="510" width="160" height="30" as="geometry" />
        </mxCell>

        <!-- Calculate Line Values -->
        <mxCell id="calc-values" value="Calculate Extended&#xa;Line Item Values" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="790" y="550" width="160" height="50" as="geometry" />
        </mxCell>

        <mxCell id="edge14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="calc-tariff" target="calc-values">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Compare Totals -->
        <mxCell id="compare" value="Compare Calculated vs&#xa;Invoice Total" style="rhombus;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="780" y="620" width="180" height="70" as="geometry" />
        </mxCell>

        <mxCell id="edge15" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="calc-values" target="compare">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Distribute Difference -->
        <mxCell id="distribute" value="Pro-rate Difference&#xa;Across Line Items" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="790" y="710" width="160" height="50" as="geometry" />
        </mxCell>

        <mxCell id="edge16" value="Difference" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="compare" target="distribute">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Preview Table -->
        <mxCell id="preview" value="Display Results in&#xa;Preview Table" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=12;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="470" y="780" width="160" height="60" as="geometry" />
        </mxCell>

        <mxCell id="edge17" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="distribute" target="preview">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Review Decision -->
        <mxCell id="review" value="Data&#xa;Correct?" style="rhombus;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="470" y="870" width="160" height="80" as="geometry" />
        </mxCell>

        <mxCell id="edge18" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="preview" target="review">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Edit Values -->
        <mxCell id="edit" value="Edit Values&#xa;in Table" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="280" y="885" width="140" height="50" as="geometry" />
        </mxCell>

        <mxCell id="edge19" value="No" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="review" target="edit">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="edge20" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="edit" target="preview">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="200" y="910" />
              <mxPoint x="200" y="810" />
            </Array>
          </mxGeometry>
        </mxCell>

        <!-- Export -->
        <mxCell id="export" value="Export CBP&#xa;Worksheet" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontStyle=1;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="680" y="885" width="140" height="50" as="geometry" />
        </mxCell>

        <mxCell id="edge21" value="Yes" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="review" target="export">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Archive -->
        <mxCell id="archive" value="Archive Source&#xa;to Processed" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="860" y="885" width="140" height="50" as="geometry" />
        </mxCell>

        <mxCell id="edge22" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="export" target="archive">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- End -->
        <mxCell id="end" value="End" style="ellipse;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontStyle=1;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="880" y="970" width="100" height="50" as="geometry" />
        </mxCell>

        <mxCell id="edge23" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="archive" target="end">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Legend -->
        <mxCell id="legend-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="40" y="80" width="200" height="180" as="geometry" />
        </mxCell>

        <mxCell id="legend-title" value="Legend" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="100" y="90" width="80" height="20" as="geometry" />
        </mxCell>

        <mxCell id="legend1" value="Process Step" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="55" y="115" width="80" height="25" as="geometry" />
        </mxCell>

        <mxCell id="legend2" value="Decision" style="rhombus;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="145" y="110" width="80" height="35" as="geometry" />
        </mxCell>

        <mxCell id="legend3" value="User Input" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="55" y="150" width="80" height="25" as="geometry" />
        </mxCell>

        <mxCell id="legend4" value="Edit/Fix" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="145" y="150" width="80" height="25" as="geometry" />
        </mxCell>

        <mxCell id="legend5" value="Success" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="55" y="185" width="80" height="25" as="geometry" />
        </mxCell>

        <mxCell id="legend6" value="Database" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=8;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="150" y="180" width="70" height="35" as="geometry" />
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
